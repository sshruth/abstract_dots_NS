function showTarget(ntarget, x, y, x2, y2, choice, FPon, config, monkey_id, dim, theta, flip)% This function shows targets% ntarget: number of target% x,y: coordinate of 1st target (2nd target is the 180¡ rotation% fixation: show FP or not% config: specifies choice targetsdeclareGlobals;% global TARGET_SIZE_PIX T1_COLOR T2_COLOR FP_COLOR FP_SIZE_PIX APBG_INDEX CGRAY CRED% global CUR_WINDOW CENTER_X CENTER_Y TX TY T2X T2Y TTX TTY CONFIG NTARGET DIM% global PIX_PER_DEG MONKEY_IDif nargin<12    flip = 1;endr = sqrt(x^2+y^2);TX = x;TY = y;T2X = x2;T2Y = y2;CONFIG = config;%NTARGET = ntarget;DIM = dim;MONKEY_ID = monkey_id;e=TARGET_SIZE_PIX/2;T_ANGLE_OFFSET = theta;NTARGET = ntarget;% if TX>0%     theta = atan(TY/TX); % Angle of Target 1% else%     theta = atan(TY/TX) + pi;% end% % if any(T_ANGLE==theta)%     theta = 0;% endif ntarget == 1    NTARGET = 1;end        if NTARGET>2;    if monkey_id ==1        if RED_TARGET            T1_COLOR = CRED;            T2_COLOR = CRED;            if COLOR_TARGET                T1_COLOR = CBLUE;                T2_COLOR = CYELLOW;            end        else            T1_COLOR = CGRAY;            T2_COLOR = CGRAY;        end    end    if ~config        for i = 1:NTARGET            % phi(i) = 2*pi/ntarget*(i-1);            TTX = round(T_ECC*cos(T_ANGLE(i)+theta));            TTY = round(T_ECC*sin(T_ANGLE(i)+theta));            wx = TTX * PIX_PER_DEG /10 + CENTER_X;            wy = -TTY * PIX_PER_DEG /10 + CENTER_Y;            Screen('FillOval',CUR_WINDOW,CGRAY,[wx-e wy-e wx+e wy+e]);        end    else        if 1            for i = 1:NTARGET                % phi(i) = 2*pi/ntarget*(i-1);                TTX = round(T_ECC*cos(T_ANGLE(i)+theta));                TTY = round(T_ECC*sin(T_ANGLE(i)+theta));                wx = TTX * PIX_PER_DEG /10 + CENTER_X;                wy = -TTY * PIX_PER_DEG /10 + CENTER_Y;                Screen('FillOval',CUR_WINDOW,CGRAY,[wx-e wy-e wx+e wy+e]);            end        end        wx = x * PIX_PER_DEG /10 + CENTER_X;        wy = -y * PIX_PER_DEG /10 + CENTER_Y;        wx2 = x2 * PIX_PER_DEG /10 + CENTER_X;        wy2 = -y2 * PIX_PER_DEG /10 + CENTER_Y;        Screen('FillOval',CUR_WINDOW,T1_COLOR,[wx-e wy-e wx+e wy+e]);        Screen('FillOval',CUR_WINDOW,T2_COLOR,[wx2-e wy2-e wx2+e wy2+e]);    endelse    wx = x * PIX_PER_DEG /10 + CENTER_X;    wy = -y * PIX_PER_DEG /10 + CENTER_Y;    wx2 = x2 * PIX_PER_DEG /10 + CENTER_X;    wy2 = -y2 * PIX_PER_DEG /10 + CENTER_Y;        % Eli    switch monkey_id;        case 1            if RED_TARGET                T1_COLOR_ = CRED;                T2_COLOR_ = CRED;                if COLOR_TARGET                    T1_COLOR_ = CRED; %CBLUE;                    T2_COLOR_ = CRED; %CYELLOW;                end            else                T1_COLOR_ = CGRAY;                T2_COLOR_ = CGRAY;            end            dim =100;            if ntarget==2                if config                    dim = 100;                else                    dim = DIM;                end            end                    case 2            T1_COLOR_ = T1_COLOR;            T2_COLOR_ = T2_COLOR;            dim = 100;            if ~config                T1_COLOR_ = CGRAY;                T2_COLOR_ = CGRAY;            end    end        if x==x2 && y==y2        T1_COLOR_ = CGRAY;        T2_COLOR_ = CGRAY;        dim = DIM;        % choice = heaviside(x)+1;        if x<0 % changed by SK 04/23/14            choice = 1;        else            choice = 2;        end    end    if ntarget==2 || choice==1        Screen('FillOval',CUR_WINDOW,T1_COLOR_*dim/100,[wx-e wy-e wx+e wy+e]);    end    if ntarget==2 || choice==2        Screen('FillOval',CUR_WINDOW,T2_COLOR_*dim/100,[wx2-e wy2-e wx2+e wy2+e]);    endendif FPon        Screen('FillOval',CUR_WINDOW,FP_COLOR,[CENTER_X-FP_SIZE_PIX/2 ...                                           CENTER_Y-FP_SIZE_PIX/2 ...                                           CENTER_X+FP_SIZE_PIX/2 ...                                           CENTER_Y+FP_SIZE_PIX/2]);else    Screen('FillRect',CUR_WINDOW,APBG_INDEX,[CENTER_X-FP_SIZE_PIX/2 ...									   CENTER_Y-FP_SIZE_PIX/2 ...									   CENTER_X+FP_SIZE_PIX/2 ...									   CENTER_Y+FP_SIZE_PIX/2]);endif flip    Screen('Flip',CUR_WINDOW,0,DONTCLEAR);end