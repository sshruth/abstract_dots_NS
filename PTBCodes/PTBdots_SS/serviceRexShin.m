% serviceRex.m% service rex calls% This is the routine to call on the Display macintosh%	to service rex calls% initialize globalssetGlobalDefaults;% fp = fopen('rexout','w');% initialize the Display (set up CLUT, etc)initScreen;% make sure the cursor is hiddenhideCursor;% loop testcontinue = 1;% number of unknown commands receivedunknown	 = 0;i = 0;                                                     % loop until "continue" is set to 0while continue	% wait for a message	[message size] = pcmsg('wait');  	if size~=0		i = i+1;		fprintf('%4d:%s\n',i,message);		% evaluate it, counting the unknown commands		eval(message, 'unknown = unknown + 1')				% send a went flag		%dummyWent;		%fprintf('went sent\n');	end  		% log the message in "rexout" file	% fprintf(fp,'%s\n', message);			% hide the cursor in case the command wasn't recognized	hideCursor;		end% close the fine% fclose(fp);% close the display; don't worry - this will show the cursorSCREEN(CUR_WINDOW, 'Close');showcursor;% show how many unknown commands were encounteredunknown  